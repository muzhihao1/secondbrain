# ç®€åŒ–éƒ¨ç½²æ–¹æ¡ˆ

**åˆ›å»ºæ—¶é—´**: 2025-10-25
**ç›®æ ‡**: ç”¨æœ€ç®€å•çš„æ–¹å¼è®©å‰ç«¯å¯è®¿é—®ï¼Œä¿ç•™æœ¬åœ°Obsidianä¼˜åŠ¿

---

## ğŸ¯ æ ¸å¿ƒç†å¿µ

**ä¸è¦ç ´åObsidiançš„æœ¬åœ°ä¼˜åŠ¿ï¼**

æ‚¨çš„ç¬”è®°ç³»ç»Ÿåº”è¯¥ï¼š
- âœ… ç¬”è®°å­˜åœ¨æœ¬åœ°ï¼ˆå®Œå…¨æ§åˆ¶ï¼‰
- âœ… ä½¿ç”¨Obsidianç¼–è¾‘ï¼ˆç†Ÿæ‚‰çš„å·¥å…·ï¼‰
- âœ… å¯é€‰æ‹©æ€§åœ°åˆ†äº«åˆ°Webï¼ˆæŒ‰éœ€å‘å¸ƒï¼‰

---

## ğŸ“‹ æ¨èæ–¹æ¡ˆå¯¹æ¯”

### æ–¹æ¡ˆ1ï¼šåªä¿®å¤Vercelï¼ˆ5åˆ†é’Ÿï¼‰â­ æœ€æ¨è

**é€‚åˆåœºæ™¯**:
- åªæƒ³å±•ç¤ºUIè®¾è®¡
- æš‚æ—¶ä¸éœ€è¦çœŸå®åŠŸèƒ½
- å¿«é€ŸéªŒè¯å‰ç«¯æ•ˆæœ

**æ­¥éª¤**:
```
1. Vercel Dashboard â†’ Settings â†’ Root Directory = "web"
2. ç­‰å¾…é‡æ–°éƒ¨ç½²
3. ç½‘ç«™å¯è®¿é—®ï¼Œä½†åŠŸèƒ½ä¸å¯ç”¨ï¼ˆé¢„æœŸï¼‰
```

**ä¼˜ç‚¹**:
- âœ… æå…¶ç®€å•
- âœ… æ— éœ€åç«¯
- âœ… æ— æˆæœ¬
- âœ… å¯ä»¥ç»™åˆ«äººçœ‹UI

**ç¼ºç‚¹**:
- âš ï¸ æ— æ³•æ•è·å†…å®¹
- âš ï¸ æ— æ³•ä¿å­˜æ•°æ®
- âš ï¸ ä»…ç”¨äºå±•ç¤º

---

### æ–¹æ¡ˆ2ï¼šVercelå…¨æ ˆï¼ˆ1-2å°æ—¶ï¼‰â­â­ å¹³è¡¡æ–¹æ¡ˆ

**æ¶æ„**:
```
[å‰ç«¯ SvelteKit] + [Vercel Serverless Functions] + [æœ¬åœ°Obsidian]
         â†“                    â†“                          â†“
    åœ¨Verceléƒ¨ç½²         åœ¨Verceléƒ¨ç½²                ä¿æŒæœ¬åœ°
```

**å…³é”®æ”¹è¿›**:
- âœ… **å•ä¸€å¹³å°**ï¼ˆåªç”¨Vercelï¼Œä¸éœ€è¦Railwayï¼‰
- âœ… **æ•°æ®ä»åœ¨æœ¬åœ°**ï¼ˆObsidian Vaultä¿æŒä¸å˜ï¼‰
- âœ… **çœŸå®åŠŸèƒ½**ï¼ˆå¯ä»¥æ•è·ã€ä¿å­˜ã€æŸ¥è¯¢ï¼‰

**å®ç°æ–¹å¼**:

#### æ ¸å¿ƒæƒ³æ³•
Webå‰ç«¯é€šè¿‡Serverless Functionè¿æ¥åˆ°**æ‚¨æœ¬åœ°è¿è¡Œçš„åç«¯**ã€‚

#### æŠ€æœ¯æ–¹æ¡ˆï¼šCloudflare Tunnel
ä½¿ç”¨å…è´¹çš„Cloudflare Tunnelå°†æœ¬åœ°FastAPIæš´éœ²ä¸ºå…¬ç½‘URLã€‚

**æ­¥éª¤**:

1. **å®‰è£…Cloudflare Tunnel** (5åˆ†é’Ÿ)
   ```bash
   # macOS
   brew install cloudflare/cloudflare/cloudflared

   # æˆ–ä¸‹è½½: https://developers.cloudflare.com/cloudflare-one/connections/connect-apps/install-and-setup/installation/
   ```

2. **å¯åŠ¨æœ¬åœ°åç«¯** (å·²æœ‰)
   ```bash
   cd backend
   source venv/bin/activate
   uvicorn main:app --host 0.0.0.0 --port 8000
   ```

3. **åˆ›å»ºTunnel** (2åˆ†é’Ÿ)
   ```bash
   cloudflared tunnel --url http://localhost:8000
   ```

   ä¼šçœ‹åˆ°è¾“å‡ºï¼š
   ```
   Your quick Tunnel has been created! Visit it at:
   https://abc-def-ghi.trycloudflare.com
   ```

4. **é…ç½®Vercelç¯å¢ƒå˜é‡**
   ```
   Vercel Dashboard â†’ Settings â†’ Environment Variables

   VITE_API_URL = https://abc-def-ghi.trycloudflare.com
   ```

5. **é‡æ–°éƒ¨ç½²Vercel**
   ```bash
   cd web
   git add .
   git commit -m "é…ç½®åç«¯URL"
   git push
   ```

**ä¼˜ç‚¹**:
- âœ… ç¬”è®°ä»åœ¨æœ¬åœ°Obsidian
- âœ… å®Œå…¨æ§åˆ¶æ•°æ®
- âœ… çœŸå®åŠŸèƒ½å¯ç”¨
- âœ… å•ä¸€éƒ¨ç½²å¹³å°ï¼ˆVercelï¼‰
- âœ… å…è´¹ï¼ˆCloudflare Tunnelå…è´¹ï¼‰

**ç¼ºç‚¹**:
- âš ï¸ éœ€è¦æœ¬åœ°ç”µè„‘å¼€æœºå¹¶è¿è¡Œåç«¯
- âš ï¸ ä»…åœ¨æ‚¨ç”µè„‘å¼€æœºæ—¶Webå¯ç”¨
- âš ï¸ Cloudflareå…è´¹URLæ¯æ¬¡é‡å¯ä¼šå˜

**é€‚åˆåœºæ™¯**:
- ä¸ªäººä½¿ç”¨
- å¶å°”éœ€è¦ç§»åŠ¨ç«¯è®¿é—®
- ä¸æƒ³æ•°æ®ç¦»å¼€æœ¬åœ°

---

### æ–¹æ¡ˆ3ï¼šå®Œå…¨æœ¬åœ°ï¼ˆ0åˆ†é’Ÿï¼‰â­â­â­ æœ€ç®€å•

**ä¿æŒç°çŠ¶**:
```
åªåœ¨æœ¬åœ°å¼€å‘ç¯å¢ƒä½¿ç”¨:
1. åç«¯: uvicorn main:app --reload
2. å‰ç«¯: npm run dev
3. è®¿é—®: http://localhost:5173
```

**ä¼˜ç‚¹**:
- âœ… æœ€ç®€å•
- âœ… å®Œå…¨ç¦»çº¿
- âœ… æ•°æ®ç»å¯¹å®‰å…¨
- âœ… æ— éœ€ä»»ä½•äº‘æœåŠ¡

**ç¼ºç‚¹**:
- âŒ æ— æ³•è¿œç¨‹è®¿é—®
- âŒ æ— æ³•åˆ†äº«ç»™ä»–äºº

**é€‚åˆåœºæ™¯**:
- åªåœ¨ç”µè„‘å‰ä½¿ç”¨
- ä¸éœ€è¦ç§»åŠ¨ç«¯
- æ³¨é‡éšç§å’Œç®€æ´

---

## ğŸ” æ–¹æ¡ˆå¯¹æ¯”è¡¨

| ç‰¹æ€§ | æ–¹æ¡ˆ1<br/>åªä¿®å¤Vercel | æ–¹æ¡ˆ2<br/>Vercelå…¨æ ˆ | æ–¹æ¡ˆ3<br/>å®Œå…¨æœ¬åœ° |
|-----|---------------------|-------------------|----------------|
| **å®ç°æ—¶é—´** | 5åˆ†é’Ÿ | 1-2å°æ—¶ | 0åˆ†é’Ÿ |
| **éƒ¨ç½²å¹³å°** | Vercel | Vercel + Cloudflare | æ—  |
| **æ•°æ®ä½ç½®** | æ— æ•°æ® | æœ¬åœ°Obsidian âœ… | æœ¬åœ°Obsidian âœ… |
| **åŠŸèƒ½å®Œæ•´** | âŒ UIå±•ç¤º | âœ… å®Œæ•´åŠŸèƒ½ | âœ… å®Œæ•´åŠŸèƒ½ |
| **è¿œç¨‹è®¿é—®** | âœ… éšæ—¶ | âš ï¸ ç”µè„‘å¼€æœºæ—¶ | âŒ ä¸å¯ |
| **ç»´æŠ¤æˆæœ¬** | æä½ | ä½ | æä½ |
| **æˆæœ¬** | å…è´¹ | å…è´¹ | å…è´¹ |
| **æ•°æ®æ§åˆ¶** | N/A | âœ… å®Œå…¨æ§åˆ¶ | âœ… å®Œå…¨æ§åˆ¶ |

---

## ğŸ’¡ æˆ‘çš„æ¨è

æ ¹æ®ä¸åŒéœ€æ±‚ï¼š

### å¦‚æœæ‚¨åªæ˜¯æƒ³...

**"å±•ç¤ºè¿™ä¸ªé¡¹ç›®çš„UIè®¾è®¡ç»™åˆ«äººçœ‹"**
â†’ **æ–¹æ¡ˆ1**ï¼ˆ5åˆ†é’Ÿä¿®å¤Vercelï¼‰

**"å¶å°”åœ¨æ‰‹æœºä¸Šå¿«é€Ÿè®°å½•æƒ³æ³•"**
â†’ **æ–¹æ¡ˆ2**ï¼ˆVercel + Cloudflare Tunnelï¼‰

**"åªåœ¨ç”µè„‘å‰è®¤çœŸæ•´ç†ç¬”è®°"**
â†’ **æ–¹æ¡ˆ3**ï¼ˆä¿æŒæœ¬åœ°ï¼Œä¸éƒ¨ç½²ï¼‰

---

## âš ï¸ ä¸ºä»€ä¹ˆä¸æ¨èåŸæ–¹æ¡ˆC

åŸæ¥çš„**Railway + Vercel + Supabase**æ–¹æ¡ˆé—®é¢˜ï¼š

### 1. æ•°æ®æ§åˆ¶æƒä¸§å¤±
```
åŸæ–¹æ¡ˆ: Obsidianæœ¬åœ° â†’ åŒæ­¥åˆ° â†’ Supabaseäº‘ç«¯ â†’ Webè¯»å–
         âŒ æ•°æ®é‡å¤å­˜å‚¨
         âŒ å¢åŠ åŒæ­¥å¤æ‚åº¦
         âŒ äº‘ç«¯æˆä¸º"çœŸå®æ¥æº"

æ›´å¥½:   Obsidianæœ¬åœ° â† ç›´æ¥è¯»å– â† Web (é€šè¿‡Tunnel)
         âœ… å•ä¸€æ•°æ®æº
         âœ… æ— éœ€åŒæ­¥
         âœ… æœ¬åœ°æ˜¯"çœŸå®æ¥æº"
```

### 2. æ¶æ„è¿‡äºå¤æ‚
```
åŸæ–¹æ¡ˆéœ€è¦ç»´æŠ¤:
- Vercelè´¦å·å’Œé…ç½®
- Railwayè´¦å·å’Œé…ç½®
- Supabaseè´¦å·å’Œé…ç½®
- ä¸‰è€…ä¹‹é—´çš„ç¯å¢ƒå˜é‡
- CORSé…ç½®
- ä¸‰ä¸ªæœåŠ¡çš„ç›‘æ§

ç®€åŒ–æ–¹æ¡ˆåªéœ€è¦:
- Vercelè´¦å·ï¼ˆå‰ç«¯ï¼‰
- Cloudflare Tunnelï¼ˆå…è´¹ï¼‰
- æœ¬åœ°åç«¯ï¼ˆå·²æœ‰ï¼‰
```

### 3. æˆæœ¬å¢åŠ 
```
åŸæ–¹æ¡ˆ:
- Railway: $5/æœˆ (å°å‹é¡¹ç›®)
- Supabase: å…è´¹é¢åº¦æœ‰é™
- Vercel: å…è´¹ä½†å¯èƒ½è¶…é¢

ç®€åŒ–æ–¹æ¡ˆ:
- Vercel: å…è´¹
- Cloudflare: å…è´¹
- æœ¬åœ°: å…è´¹
æ€»è®¡: $0/æœˆ
```

---

## ğŸš€ ç«‹å³è¡ŒåŠ¨

### ç¬¬ä¸€æ­¥ï¼šä¿®å¤Vercelï¼ˆå¿…åšï¼‰

æ— è®ºé€‰æ‹©å“ªä¸ªæ–¹æ¡ˆï¼Œå…ˆè®©Vercelæ­£å¸¸å·¥ä½œï¼š

```
1. è®¿é—® https://vercel.com/dashboard
2. é€‰æ‹©æ‚¨çš„é¡¹ç›®
3. Settings â†’ General â†’ Root Directory
4. è¾“å…¥: web
5. Save
6. ç­‰å¾…è‡ªåŠ¨é‡æ–°éƒ¨ç½²ï¼ˆ2-3åˆ†é’Ÿï¼‰
7. è®¿é—®ç½‘ç«™ç¡®è®¤å¯ä»¥çœ‹åˆ°UI
```

### ç¬¬äºŒæ­¥ï¼šæ ¹æ®éœ€æ±‚é€‰æ‹©

**å¦‚æœæ»¡æ„UIå±•ç¤º** â†’ åœæ­¢ï¼Œå®Œæˆ âœ…

**å¦‚æœéœ€è¦çœŸå®åŠŸèƒ½** â†’ ç»§ç»­å®æ–½æ–¹æ¡ˆ2ï¼ˆCloudflare Tunnelï¼‰

**å¦‚æœåªæƒ³æœ¬åœ°ä½¿ç”¨** â†’ åˆ é™¤Verceléƒ¨ç½²ï¼Œå›åˆ°æ–¹æ¡ˆ3

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- Cloudflare Tunnel: https://developers.cloudflare.com/cloudflare-one/connections/connect-apps/
- Vercel Serverless Functions: https://vercel.com/docs/functions
- SvelteKitç¯å¢ƒå˜é‡: https://kit.svelte.dev/docs/modules#$env-dynamic-public

---

## ğŸ“ ç»éªŒæ€»ç»“

### æ•™è®­1: ä¸è¦ä¸ºäº†äº‘è€Œäº‘
äº‘æœåŠ¡æ˜¯å·¥å…·ï¼Œä¸æ˜¯ç›®æ ‡ã€‚å¦‚æœæœ¬åœ°æ–¹æ¡ˆå·²ç»æ»¡è¶³éœ€æ±‚ï¼Œå°±ä¸è¦å¼ºè¡Œä¸Šäº‘ã€‚

### æ•™è®­2: ä¿æŒæ•°æ®æ§åˆ¶æƒ
å¯¹äºä¸ªäººç¬”è®°ç³»ç»Ÿï¼Œæ•°æ®æ§åˆ¶æƒ > ä¾¿åˆ©æ€§ã€‚Obsidiançš„æ ¸å¿ƒä»·å€¼å°±æ˜¯æœ¬åœ°ä¼˜å…ˆã€‚

### æ•™è®­3: ä»ç®€å•å¼€å§‹
å¯ä»¥å…ˆç”¨ç®€å•æ–¹æ¡ˆå¿«é€ŸéªŒè¯ï¼Œæœªæ¥å¦‚æœçœŸçš„éœ€è¦ï¼Œå†å‡çº§åˆ°å¤æ‚æ¶æ„ã€‚

### æ•™è®­4: å•ä¸€å¹³å°åŸåˆ™
å¯¹äºå°é¡¹ç›®ï¼Œå°½é‡ä½¿ç”¨å•ä¸€éƒ¨ç½²å¹³å°ï¼Œé™ä½è®¤çŸ¥è´Ÿæ‹…å’Œè¿ç»´æˆæœ¬ã€‚

---

**æœ€ç»ˆå»ºè®®**: ç«‹å³ä¿®å¤Vercelé…ç½®ï¼ˆ5åˆ†é’Ÿï¼‰ï¼Œç„¶åæ ¹æ®å®é™…ä½¿ç”¨ä½“éªŒå†³å®šæ˜¯å¦éœ€è¦æ–¹æ¡ˆ2ã€‚

**è®°ä½**: ç®€å•å¯ç»´æŠ¤ > åŠŸèƒ½å¼ºå¤§ä½†å¤æ‚

---

ğŸ¤– Generated with Ultra MCP Planning Analysis

Co-Authored-By: Claude <noreply@anthropic.com>
