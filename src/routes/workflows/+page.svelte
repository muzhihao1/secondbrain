<script>
	import { goto } from '$app/navigation';
	import AppleCard from '$lib/components/AppleCard.svelte';

	// Workflow cards data
	const workflows = [
		{
			id: 'daily-reflection',
			title: 'æ¯æ—¥åæ€',
			subtitle: 'æ™šé—´æ¨¡å¼',
			icon: 'ğŸŒ™',
			description: 'æ·±åº¦å›é¡¾ä»Šæ—¥ï¼Œ15-25åˆ†é’Ÿäº’åŠ¨åæ€',
			duration: '15-25åˆ†é’Ÿ',
			bestTime: 'æ™šé—´ 19:00-23:00',
			color: 'from-workflow-green to-green-600',
			link: '/workflows/daily?mode=evening'
		},
		{
			id: 'daily-planning',
			title: 'æ¯æ—¥è§„åˆ’',
			subtitle: 'æ™¨é—´æ¨¡å¼',
			icon: 'ğŸŒ…',
			description: 'å¿«é€Ÿå›é¡¾æ˜¨æ—¥ï¼Œåˆ¶å®šä»Šæ—¥è®¡åˆ’',
			duration: '8-12åˆ†é’Ÿ',
			bestTime: 'æ—©æ™¨ 7:00-10:00',
			color: 'from-workflow-orange to-yellow-600',
			link: '/workflows/daily?mode=morning'
		},
		{
			id: 'monthly-review',
			title: 'æœˆåº¦æ€»ç»“',
			subtitle: 'æ·±åº¦ç‰ˆ',
			icon: 'ğŸ“Š',
			description: 'å…¨é¢å›é¡¾æœ¬æœˆï¼Œåˆ¶å®šä¸‹æœˆè®¡åˆ’',
			duration: '15-25åˆ†é’Ÿ',
			bestTime: 'æœˆæœ«æœ€å3å¤©',
			color: 'from-workflow-blue to-blue-600',
			link: '/workflows/monthly?type=full'
		},
		{
			id: 'mid-month-review',
			title: 'æœˆä¸­æ£€æŸ¥',
			subtitle: 'è½»é‡ç‰ˆ',
			icon: 'ğŸ“‹',
			description: 'å¿«é€Ÿè¯„ä¼°è¿›åº¦ï¼ŒåŠæ—¶è°ƒæ•´æ–¹å‘',
			duration: '5-8åˆ†é’Ÿ',
			bestTime: 'æ¯æœˆ15æ—¥',
			color: 'from-workflow-blue/80 to-cyan-600',
			link: '/workflows/monthly?type=mid'
		},
		{
			id: 'life-wheel',
			title: 'ç”Ÿå‘½è½®è¯„ä¼°',
			subtitle: 'å¹³è¡¡è¯Šæ–­',
			icon: 'ğŸ¡',
			description: '6ç»´åº¦è¯„ä¼°ç”Ÿæ´»å¹³è¡¡çŠ¶æ€',
			duration: '10-15åˆ†é’Ÿ',
			bestTime: 'æœˆåº¦/å­£åº¦å¤ç›˜',
			color: 'from-teal-600 to-green-600',
			link: '/workflows/life-wheel'
		},
		{
			id: 'project-review',
			title: 'é¡¹ç›®ç®¡ç†',
			subtitle: 'è¿›åº¦è¿½è¸ª',
			icon: 'ğŸš€',
			description: 'é¡¹ç›®çŠ¶æ€è¯„ä¼°ä¸è®¡åˆ’è°ƒæ•´',
			duration: '20-30åˆ†é’Ÿ',
			bestTime: 'é¡¹ç›®é‡Œç¨‹ç¢‘èŠ‚ç‚¹',
			color: 'from-workflow-purple to-purple-600',
			link: '/workflows/project'
		}
	];

	function handleWorkflowClick(workflow) {
		goto(workflow.link);
	}
</script>

<svelte:head>
	<title>å·¥ä½œæµ - Quick Capture</title>
</svelte:head>

<div class="min-h-screen bg-background-primary flex flex-col p-4 pb-28">
	<!-- Header -->
	<header class="mb-6 animate-fade-in">
		<h1 class="text-large-title text-text-primary mb-2">ğŸ”„ å·¥ä½œæµ</h1>
		<p class="text-subhead text-text-secondary">AIå¢å¼ºçš„åæ€ä¸è§„åˆ’å·¥å…·</p>
	</header>

	<!-- Workflow Cards Grid -->
	<div class="flex-1 overflow-y-auto">
		<div class="grid grid-cols-1 md:grid-cols-2 gap-4">
			{#each workflows as workflow, i (workflow.id)}
				<div
					class="animate-scale-in"
					style="animation-delay: {i * 80}ms"
				>
					<AppleCard
						gradient={workflow.color}
						onClick={() => handleWorkflowClick(workflow)}
					>
						<!-- Icon and Title -->
						<div class="flex items-start justify-between mb-3">
							<div class="flex items-center gap-3">
								<span class="text-5xl">{workflow.icon}</span>
								<div>
									<h3 class="text-headline text-white font-semibold">{workflow.title}</h3>
									<span class="text-caption text-white/70">{workflow.subtitle}</span>
								</div>
							</div>
							<span class="text-white/50 text-2xl">â†’</span>
						</div>

						<!-- Description -->
						<p class="text-callout text-white/90 mb-4 leading-relaxed">{workflow.description}</p>

						<!-- Meta Info -->
						<div class="flex flex-wrap gap-2">
							<span class="px-3 py-1.5 bg-black/20 backdrop-blur-sm rounded-md text-caption text-white/80 font-medium">
								â±ï¸ {workflow.duration}
							</span>
							<span class="px-3 py-1.5 bg-black/20 backdrop-blur-sm rounded-md text-caption text-white/80 font-medium">
								ğŸ• {workflow.bestTime}
							</span>
						</div>
					</AppleCard>
				</div>
			{/each}
		</div>

		<!-- Help Section -->
		<div class="mt-6 bg-background-secondary/70 backdrop-blur-lg border border-white/5 rounded-lg p-5 shadow-subtle animate-fade-in">
			<h4 class="text-headline text-text-primary font-semibold mb-3">ğŸ’¡ ä½¿ç”¨æç¤º</h4>
			<ul class="text-subhead text-text-secondary space-y-2 leading-relaxed">
				<li>â€¢ <strong class="text-text-primary">æ™šé—´åæ€</strong>ï¼šæ·±åº¦å›é¡¾ï¼Œæœ€ä½³æ—¶é—´ä¸ºæ™šé—´19:00-23:00</li>
				<li>â€¢ <strong class="text-text-primary">æ™¨é—´è§„åˆ’</strong>ï¼šå¿«é€Ÿå¯åŠ¨ï¼Œå»ºè®®æ—©æ™¨7:00-10:00å®Œæˆ</li>
				<li>â€¢ <strong class="text-text-primary">æœˆåº¦æ€»ç»“</strong>ï¼šå…¨é¢å¤ç›˜ï¼Œæœˆæœ«è¿›è¡Œæ•ˆæœæœ€ä½³</li>
				<li>â€¢ <strong class="text-text-primary">ç”Ÿå‘½è½®</strong>ï¼šè¯Šæ–­å¹³è¡¡ï¼Œé…åˆæœˆåº¦æ€»ç»“ä½¿ç”¨</li>
			</ul>
		</div>
	</div>
</div>
